<div>
	<h1>{{currentPool.title}}</h1> 
	<a ng-show="currentPool.facebookId" ng-href="{{'http://www.facebook.com/groups/' + currentPool.facebookId}}">
	<img src="/social/facebook/FB-f-Logo__blue_29.png">
	</a>
	<p>{{currentPool.description}}</p>
	{{currentPool.privacy}}

	<button ng-show="myMembership" ng-click="leavePool()">
		Lämna grupp
	</button>

	<button ng-show="!myMembership" ng-click="joinPool()">
		Gå med i grupp
	</button>

	<div ng-show="myMembership">
		<h2>Medlemmar</h2>
		<ul class="list-unstyled">
			<li ng-repeat="membership in memberships">
				<tjing-user user="membership.member"></tjing-user>
				<span>({{membership.role}})</span>
				<span ng-show="myMembership.role=='ADMIN' && membership.role!='ADMIN'">
					<button ng-click="makeAdmin(membership)">Ge admin</button>
					<button ng-click="kickMember(membership)">Ta bort</button>
				</span>
			</li>
		</ul>
		<div ng-show="myMembership.role=='ADMIN'">
			<h3>Medlemsförfrågningar</h3>
			<ul>
				<li ng-repeat="request in requests">
					<tjing-user user="request.member"></tjing-user> 
					<button ng-click="approveRequest(request)">Godkänn</button>
					<button ng-click="denyRequest(request)">Neka</button>
				</li>
			</ul>
		</div>	
		<h2>Delade prylar</h2>
		<ul class="list-unstyled">
			<li ng-repeat="share in shares">
				<tjing-item item="share.item"></tjing-item>
			</li>
		</ul>

		<h2>Dela dina prylar med {{currentPool.title}}</h2>
		<ul class="list-unstyled">
			<li ng-repeat="tuple in shareMap">
				<input type="checkbox" ng-model="tuple.isShared" ng-click="tuple.isShared ? addShare(tuple.item) : removeShare(tuple.share)">

				<tjing-item item="tuple.item"></tjing-item> 
				
			</li>
		</ul>
	</div>	
</div>